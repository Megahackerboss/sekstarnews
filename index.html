<!DOCTYPE html><html lang="pl"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brawl Stars News</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <header class="navbar">
        <button id="back-button" class="nav-button hidden">
             <!-- Użyj rozwiązania A lub B z poprzedniej odpowiedzi -->
        </button>
        <div class="nav-title"><img src="images/04a2de9d503f501aca1e.svg" style="height:lem; vertical-align: -8px;">SEKSTAR NEWS</div>
    </header>

    <main id="app-container">
        <!-- Główny widok z listą newsów -->
        <div id="main-view">
    <div id="featured-slider-container"></div>
    <!-- Nowy kontener na kolumnę z artykułami -->
    <div id="articles-column">
        <div id="news-list-view"></div>
        <button id="load-more-articles-btn" class="load-more-btn hidden">Wczytaj więcej artykułów</button>
    </div>
</div>

        <!-- Widok pojedynczego artykułu -->
        <div id="article-view" class="hidden">
            <!-- Kontener na dynamiczną treść artykułu -->
            <div id="article-content-wrapper">
                 <!-- Metadane (data, autor) będą wstawiane tutaj przez JS -->
                <div class="article-meta">
                    <span id="article-date"></span> | <span id="article-author"></span>
                </div>
                <!-- Właściwa treść artykułu -->
                <div id="article-content"></div>
            </div>

            <!-- Przyciski akcji (Polub, Udostępnij) -->
            <div class="article-actions">
                <button id="like-button" class="action-button">
                    <span class="heart-icon">♡</span> Polub (<span id="like-count">0</span>)
                </button>
                <button id="share-button" class="action-button"><img src="images/288ad794778de2e73599.svg" style="height: 1em; vertical-align: -3px;">Udostępnij</button>
            </div>

            <!-- Sekcja Komentarzy -->
            <div class="comments-section">
                <h3>Komentarze</h3>
                <form id="comment-form">
                    <input type="text" id="comment-name" placeholder="Twój nick" required="">
                    <!-- Wklej to wewnątrz <form id="comment-form">, przed <textarea> -->
                    <div class="format-buttons">
                        <button type="button" id="format-italic-btn"><i>I</i></button>
                    </div>
                    <textarea id="comment-message" placeholder="Twoja wiadomość..." required=""></textarea>
                    <button type="submit">Dodaj komentarz</button>
                </form>
                <div id="comments-list">
                    <!-- Komentarze będą dodawane tutaj przez JS -->
                </div>
                <button id="load-more-comments-btn" class="load-more-btn hidden">Wczytaj więcej komentarzy</button>
            </div>
        </div>
    </main>
<!-- Panel Edytora (WERSJA POPRAWIONA I KOMPLETNA) -->
    <div id="editor-view" class="hidden">
        <h2>Edytor Artykułów</h2>
        <form id="editor-form">
            <!-- Ukryte pole, które przechowuje ID do edycji -->
            <input type="hidden" id="editor-article-id"> 

            <!-- Pola formularza -->
            <label>ID (unikalny numer, nie zmieniaj przy edycji):</label>
            <input type="number" id="editor-id" required>

            <label>Order (kolejność, mniejsza liczba = wyżej):</label>
            <input type="number" id="editor-order" required>
            
            <label>Data:</label>
            <input type="text" id="editor-date" required>
            
            <label>Tytuł:</label>
            <input type="text" id="editor-title" required>
            
            <label>Autor:</label>
            <input type="text" id="editor-author" required>
            
            <label>URL Miniaturki:</label>
            <input type="text" id="editor-thumbnail" required>
            
            <label>
              <input type="checkbox" id="editor-featured"> Czy wyróżniony w sliderze?
            </label>
            
            <label>Treść (HTML):</label>
            <textarea id="editor-content" rows="15" required></textarea>
            
            <div class="editor-actions">
                <button type="submit">Zapisz Artykuł</button>
                <button type="button" id="editor-cancel">Anuluj</button>
                <button type="button" id="editor-delete" class="delete-button">USUŃ TEN ARTYKUŁ</button>
            </div>
        </form>
    </div>
<!-- Nowy, zunifikowany Panel Admina -->
<!-- =============================================== -->
<!-- === NOWY, UNIWERSALNY PANEL UŻYTKOWNIKA ======= -->
<!-- =============================================== -->
<button id="user-panel-button">?</button>

<div id="user-panel-view" class="hidden">
    <div id="user-panel-box">

        <!-- === WIDOK DLA UŻYTKOWNIKA ZALOGOWANEGO === -->
        <div id="user-info-view" class="hidden">
            <h3>Witaj, <span id="user-info-nick"></span>!</h3>
            <!-- Ten przycisk będzie widoczny tylko dla admina -->
            <button id="user-panel-add-article" class="hidden">Dodaj nowy artykuł</button>
            <button id="user-panel-logout">Wyloguj</button>
            <button id="user-panel-cancel">Zamknij</button>
        </div>

        <!-- === WIDOK DLA UŻYTKOWNIKA NIEZALOGOWANEGO === -->
        <div id="auth-view">
            <div class="auth-tabs">
                <button id="show-login-tab" class="active">Logowanie</button>
                <button id="show-register-tab">Rejestracja</button>
            </div>

            <!-- Formularz Logowania -->
            <form id="login-form">
                <input type="email" id="login-email" placeholder="Email" required>
                <input type="password" id="login-password" placeholder="Hasło" required>
                <button type="submit">Zaloguj</button>
            </form>

            <!-- Formularz Rejestracji -->
            <form id="register-form" class="hidden">
                <input type="text" id="register-nick" placeholder="Nick" required>
                <input type="email" id="register-email" placeholder="Email" required>
                <input type="password" id="register-password" placeholder="Hasło" required>
                <button type="submit">Zarejestruj</button>
            </form>
             <button id="auth-cancel-button">Anuluj</button>
        </div>
    </div>
</div>

<!-- Panel Edytora (bez zmian) -->
<div id="editor-view" class="hidden">
    <!-- ... cała zawartość formularza edytora ... -->
</div>
    <!-- Ukryty Panel Edycji Komentarza -->
<div id="comment-editor-view" class="hidden">
    <div id="comment-editor-box">
        <h4>Edytuj komentarz</h4>
        <textarea id="comment-editor-textarea"></textarea>
        <button id="comment-editor-save">Zapisz</button>
        <button id="comment-editor-cancel">Anuluj</button>
    </div>
</div>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app-check.js"></script>
    <script src="script.js"></script>
<footer style="text-align: center; padding: 10px; font-size: 12px; color: #aaa;">
  This site is protected by reCAPTCHA and the Google
  <a href="https://policies.google.com/privacy">Privacy Policy</a> and
  <a href="https://policies.google.com/terms">Terms of Service</a> apply.
    <div style="text-align: center; padding: 20px;">
    <button id="clear-cache-btn">Wyczyść pamięć podręczną artykułów</button>
</div>
</footer>
</body></html>
